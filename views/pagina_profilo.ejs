<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/pagina_profilo.css">
    <script src="/javascript/add_address.js"></script>
    <title>Panoramica</title>
</head>
    <body>
        <main>
            <div>
                <section>
                    <a href="/"> <img src="../img/img_login/close.png" alt="Chiudi" style="height: auto; width: 18px; padding-top: 2px; padding-left: 5px;"></a>
                    <hr>
                </section>
                <center>
                    
                    <section class="section_benvenuto">
                        <div class="div_benvenuto">
                            <img src="" alt="" width="35%">
                            <h1>Benvenuto utente</h1>
                        </div>
                    </section>
                    <hr>
                    <section>
                        <div>
                            <h1 style="font-size: 45px;">Dati personali</h1>
                            <p style="font-size: 20px;">Visualizza i miei dati Impostazioni di log-in e password.</p>
                        </div>
                        <div class="grid_container">
                            <div class="grid_item centra_bottone">
                                <img src="../img/img_navbar/user.png" alt="">
                            </div>
                            <div class="grid_item">
                                <div class="dati_personali">
                                    <p><b>Nome & Cognome</b></p>
                                    <p><%= user.nome %> <%= user.cognome%></p> 
                                </div>
                                <hr>
                                <div class="dati_personali">
                                    <p><b>Codice-Fiscale</b></p>
                                    <p><%= user.codicefiscale %></p>
                                </div>
                            </div>
                            <div class="grid_item">
                                <div class="dati_personali">
                                    <p><b>Telefono</b></p>
                                    <p><%= user.numeroTelefono %></p>
                                </div>
                                <hr>
                                <div class="dati_personali">
                                    <p><b>Data Nascita</b></p>
                                    <p><%= user.data_nascita.toISOString().split('T')[0] %></p>
                                </div>
                            </div>
                            <div class="grid_item centra_bottone">
                                <a href="/updateUser" class="bottone_modifica">
                                    <img src="../img/img_login/modifica.png" alt="" style="width: auto; height: 20px;"> <!--matita-->
                                    <b>Modifica</b>
                                </a>
                            </div>
                        </div>
                        <div class="grid_container">
                            <div class="grid_item centra_bottone">
                                <img src="../img/img_login/email.png" alt="">
                            </div>
                            <div class="grid_item2">
                                <p><b>La tua email</b></p>
                                <p><%= user.email %></p>
                            </div>
                            <div class="grid_item centra_bottone">
                                <a href="/updateUser" class="bottone_modifica">
                                    <img src="../img/img_login/modifica.png" alt="" style="width: auto; height: 20px;"> <!--matita-->
                                    <b>Modifica</b>
                                </a>
                            </div>
                        </div>
                        <div class="grid_container">
                            <div class="grid_item centra_bottone">
                                <img src="../img/img_login/password.png" alt="">
                            </div>
                            <div class="grid_item2">
                                <p><b>La tua password</b></p>
                                <p>*********</p>
                            </div>
                            <div class="grid_item centra_bottone">
                                <a href="/updateUser" class="bottone_modifica">
                                    <img src="../img/img_login/modifica.png" alt="" style="width: auto; height: 20px;"> <!--matita-->
                                    <b>Modifica</b>
                                </a>
                            </div>
                        </div>
                    </section>
                    <hr>
                    
                    <section>
                        <h1>Indirizzi</h1>
                        <p style="font-size: 20px;">Visualizza i miei indirizzi salvati:</p>
                        
                        <div class="grid_container" style="padding-left: 13%;">
                            <div class="grid_item">
                                <p>+</p>
                                <a href="#" style="font-size: 17px;" onclick="add_address()">Aggiungi indirizzo</a>
                            </div>
                            <% user.indirizzi.forEach(function(value,key){ %>
                                <div class="grid_item">
                                    
                                    <p><b>Indirizzo di Spedizione</b></p>
                                    <p><%= user.nome %> <%= user.cognome %></p>
                                    <p><%= value.via %>, <%= value.numero_civico %></p>
                                    <p><%= value.cap %>, <%= value.citta %></p>
                                    <p>Italia</p>
                                    
                                    <div style="display: flex; justify-content: space-between;" >
                                        <img src="../public/img/img_login/cestino_1.png" alt="" width="14%"> <!--cestino-->
                                        <button class="bottone_modifica">
                                            <img src="../img/img_login/modifica.png" alt="Modifica indirizzo" style="width: auto; height: 20px;"> <!--matita-->
                                            <b>Modifica</b>
                                        </button>
                                    </div>
                                </div>
                            <% });  %>
                            
                        </div>

                        <!--pop up add address-->
                        <% if(infoErrorObj != "" || infoSubmitObj != ""){ %>
                                <% if(infoErrorObj){ %>
                                    <div id="add_address" onload="add_address()">
                                        <div id="address_form">
                                            <img src="../img/img_login/close.png" alt="close" onclick="close_form()" style="width: 15px;">
                                            <h3> <%= infoErrorObj %> </h3>
                                        </div>
                                    </div>
                                <% } %>
                                <% if(infoSubmitObj){ %>
                                    <div id="add_address" onload="add_address()">
                                        <div id="address_form">
                                            <img src="../img/img_login/close.png" alt="close" onclick="close_form()" style="width: 15px;">
                                            <h3> <%= infoSubmitObj %> </h3>
                                        </div>
                                    </div>
                                <% } %>


                        <% }else{ %>
                            <div id="add_address">
                                <div id="address_form">
                                    
                                    <img src="../img/img_login/close.png" alt="close" onclick="close_form()" style="width: 15px;">
                                    <center><h3>Iserisci un nuovo indirizzo</h3></center>
                                    
                                    <form action="/addAdress" method="post" enctype="application/x-www-form-urlencoded">
                                        <input type="text" placeholder="Inserire la via" name="via">
                                        <input type="number" placeholder="Inserire il numero civico" name="numero_civico">
                                        <input type="text" placeholder="Inserire la citta" name="citta">
                                        <input type="text" placeholder="Inserire il cap della citta" name="cap">
                                        <button type="submit">add</button>
                                    </form>
                                </div>
                            </div>
                        <% } %>

                        <h1><b>I miei metodi di pagamento:</b></h1>
                        <div class="grid_container" style="padding-left: 13%;">
                            <div class="grid_item">
                                <p>+</p>
                                <a href="#" style="font-size: 17px;">Aggiungi metodo di pagamento</a>
                            </div>
                            <div class="grid_item">
                                <div style="display: flex; justify-content: center;">
                                    <p>Nome carta:</p>
                                    <p style="margin-left: 1px;">Visa di Giorgio</p>
                                </div>
                                <div style="display: flex; justify-content: center;">
                                    <a href="https://www.visaitalia.com/" style="margin-top: 5%; margin-right: 5%;"><img src="../img/img_footer/visa.png" alt="" style="height: auto; width: 55px;"></a>
                                    <p>Numero Carta: *5812 <br> Scadenza: 12/2026 <br> CVV: ***</p>
                                </div>
                                <div style="display: flex; justify-content: space-between;">
                                    <img src="../img/img_profilo/cestino_1.png" alt="" width="14%"> <!--cestino-->
                                    <button class="bottone_modifica">
                                        <img src="../img/img_login/modifica.png" alt="Modifica indirizzo" style="width: auto; height: 20px;"> <!--matita-->
                                        <b>Modifica</b>
                                    </button>
                                </div>
                            </div>
                            <div class="grid_item">
                                <div style="display: flex; justify-content: center;">
                                    <p>Nome carta:</p>
                                    <p style="margin-left: 1px;">Mastercard di Fatima</p>
                                </div>
                                <div style="display: flex; justify-content: center;">
                                    <a href="https://www.mastercard.it/it-it.html" style="margin-top: 5%; margin-right: 5%;"><img src="../img/img_footer/mastercard.png" alt="" style="height: auto; width: 55px;"></a>
                                    <p>Numero Carta: *0092 <br> Scadenza: 01/2023 <br> CVV: ***</p>
                                </div>
                                <div style="display: flex; justify-content: space-between;">
                                    <img src="../img/img_profilo/cestino_1.png" alt="" width="14%"> <!--cestino-->
                                    <button class="bottone_modifica">
                                        <img src="../img/img_login/modifica.png" alt="Modifica indirizzo" style="width: auto; height: 20px;"> <!--matita-->
                                        <b>Modifica</b>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </section>
                </center>
            </div> 
        </main>
    </body>
</html>